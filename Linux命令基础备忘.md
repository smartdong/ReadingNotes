##### Linux命令基础

* `~` 家目录 
    * `root` 用户对应 `/root`
    * 普通用户对应到 `/home/用户名`
* `[root@localhost ~]#` 
    * 最后的 `#` 代表当前登录用户是超级用户
    * `$` 代表当前登录用户是普通用户
* `pwd` 显示当前目录 
* `ls` 显示当前目录下的文件 
    * `-a` 显示所有文件 包括隐藏文件
    * `-l` 显示详细信息
    * `-d` 查看目录属性
    * `-h` 人性化显示文件大小
    * `-i` 显示 `inode`
    * `ll` 等于 `ls -l`
* `-rw-r--r--` 用户权限
    * 第一位 `-` 表示文件类型  
        * `-` 文件
        * `d` 目录
        * `l` 软链接文件
    * 三位代表一组权限 
        * `rw-` 代表 `u` 所有者
        * `r--` 代表 `g` 所属组
        * `r--` 代表 `o` 其他人
    * 权限意义 
        * `r` 读
        * `w` 写
        * `x` 执行
* `mkdir` 创建目录
    * `-p` 递归创建
* `cd` 进入目录
    * `cd ~` 进入家目录
    * `cd` 进入家目录
    * `cd -` 进入上一次所在的目录
    * `cd ..` 返回父级目录
    * `cd .` 进入当前目录
* `tab` 键
    * 按一次 输入补全
    * 按两次 列出提示选项
* `rmdir` 删除空白目录
* `rm -rf` 递归删除文件或目录
    * `-r` 删除目录  
    * `-f` 强制
* `cp -a 源文件或目录 目标目录` 复制
    * `-r` 复制目录
    * `-p` 连带文件属性复制
    * `-d` 如果源文件是链接文件 则复制链接属性
    * `-a` 相当于 `-pdr`
* `mv 源文件或目录 目标目录` 剪切或改名
* 目录介绍
    * `/` 根目录
    * `/bin` 普通用户命令保存目录 
    * `/sbin` 超级用户命令保存目录 
    * `/boot` 启动目录 启动相关文件
    * `/dev` 设备文件保存目录
    * `/etc` 配置文件保存目录
    * `/home` 普通用户家目录
    * `/root` `root`用户家目录
    * `/lib` 系统库保存目录
    * `/mnt` 系统挂载目录
    * `/media` 系统挂载目录 
    * `/misc` 系统挂载目录
    * `/tmp` 临时目录
    * `/proc` 内存挂载点
    * `/sys` 内存挂载点
    * `/usr` 系统软件资源目录
    * `/usr/bin/系统命令` 普通用户系统命令
    * `/usr/sbin/系统命令` 超级用户系统命令
    * `/var` 系统相关文档内容
* `ln -s 源文件 目标文件` 创建软链接
    * `-s` 创建软链接 源文件一定要写绝对路径
* 链接类型
    * `硬链接` 可以看做是同一个文件的不同入口
    * `软链接` 文件的快捷方式
* 搜索命令
    * `locate 文件名`
        * 在后台数据库中按文件名搜索 速度更快 只能按照文件名搜索
        * `/var/lib/mlocate/mlocate.db` 后台数据库 默认一天一更新
        * `updatedb` 立即更新数据库
        * `/etc/updatedb.conf` 配置搜索条件
    * `whereis 命令` 搜索命令 能看到帮助文档 
        * `-b` 只查找可执行文件 
        * `-m` 只查找帮助文件
    * `which 命令` 搜索命令 能看到命令别名
        * `$PATH` 系统搜索命令的路径
    * `whatis 命令` 显示命令执行的功能
    * `whoami` 显示当前登录的用户名
    * `find 搜索范围 搜索条件`
        * `-i` 不区分大小写
        * `-user root` 用户 `root` 所有的文件
        * `-nouser` 没有所有者的文件
        * `-mtime` 修改文件内容时间
            * `-10` `10`天内 
            * `10` `10`天当天 
            * `+10` `10`天前
        * `-atime` 改变文件属性时间
        * `-ctime` 修改文件内容时间
        * `-size` 文件大小  
            * `-25k` 小于`25k`   
            * `25k` 等于`25k`   
            * `+25M` 大于`25M`
        * `-inum` 按照`i`节点
        * `-a` 逻辑与
        * `-o` 逻辑或
        * `-exec {} \;` 对搜索结果进行操作
    * `grep` 搜索字符串
        * `-i` 忽略大小写
        * `-v` 排除指定字符串
* 帮助命令
    * `man 命令` 查看命令帮助 
        * `-f` 查看命令拥有哪个级别的帮助 相当于 `whatis` (例如 `man -5 passwd`)
        * `-k` 查看和命令相关的所有帮助 相当于 `apropos`
    * `命令 --help` 查看命令帮助
    * `help shell内部命令` 查看内部命令帮助
    * `info 命令` 详细命令帮助
* 压缩命令
    * `zip 压缩文件名 文件名`
        * `-r` 压缩文件夹
        * `unzip 压缩文件名` 解压缩
    * `gzip 源文件` 压缩完不保留源文件 
        * `-c 源文件 > 压缩文件` 保留源文件
        * `-r` 压缩目录下所有子文件 但是不能压缩目录
        * `-d` 解压缩
        * `gunzip` 解压缩
    * `bzip2 源文件`  不保留源文件 不能保存目录
        * `-k` 保留压缩文件
        * `-d` 解压缩
        * `bunzip2` 解压缩
    * `tar -zcvf 打包文件名 源文件` 压缩为 `.tar.gz` 格式
        * `tar -zxvf 压缩包名` 解压缩 `.tar.gz` 格式
        * `-c` 打包
        * `-v` 显示过程
        * `-f` 指定打包后的文件名
        * `-x` 解压缩
        * `-t` 查看压缩文件
        * `-z` 压缩为 `.tar.gz` 格式
        * `-j` 压缩为 `.tar.bz2` 格式 (`-jcvf  -jxvf`)
        * `-C` 指定解压缩位置
* `shutdown -r now` 立即重启 
    * `-c` 取消前一个关机命令 
    * `-h` 关机 不推荐
    * `-r` 重启
    * `&` 放入后台执行
    * 其他关机命令
        * `halt`
        * `poweroff`
        * `init 0`
    * 其他重启命令
        * `reboot`
        * `init 6`
* `runlevel` 查看运行级别 
    * 数字含义
        * `0` 关机 
        * `3` 字符界面 
        * `5` 图形界面 
        * `6` 重启
    * `cat /etc/inittab` 修改默认运行级别 (`id:3:initdefault:`)
* `logout` 退出登录
* 挂载命令 
    * `mount -t 文件系统 -o 特殊选项 设备文件名 挂载点`
    * `-a` 依据配置文件 `/etc/fstab` 选择文件系统自动挂载
    * `mount /dev/sr0 /mnt/cdrom`  挂载光盘到 `/mnt/cdrom`
    * `umount /mnt/cdrom`  卸载光盘
    * `fdisk -l` 查看硬盘
    * `mount -t vfat /dev/sdb1 /mnt/usb/` 挂载移动设备
* 用户登录查看和用户交互命令
    * `w`
    * `who` 
    * `last`  
    * `lastlog`
* `#!/bin/bash` 脚本的第一句注释 必须
* 执行脚本方法
    * `chmod 755 hello.sh` 先赋予执行权限然后 `./hello.sh` 调用
    * `bash hello.sh` 用 `bash` 命令执行脚本
* 设置别名
    * `alias 别名='原命令'` 设置别名 临时生效 重启无效
    * `unalias 别名` 删除别名 临时生效 重启无效
    * `vi ~/.bashrc` 写入环境变量配置文件 重新登录后有效
    * `source .bashrc` 直接生效
* 快捷键
    * `ctrl + c` 强制终止当前命令
    * `ctrl + l` 清屏
    * `ctrl + a` 光标移动到行首
    * `ctrl + e` 光标移动到行尾
    * `ctrl + u` 光标所在位置删除到行首
    * `ctrl + z` 命令放入后台
    * `ctrl + r` 在历史命令中搜索
* 历史命令
    * `history` 历史命令
        * `-c` 清空历史命令
        * `-w` 把缓存中的历史命令写入历史命令保存文件 `~/.bash_history`
        * `/etc/profile` 配置文件可以修改保存的历史命令数量
    * `上下箭头` 查看最近的历史命令
    * `!!` 重复执行上一条命令
    * `!字符串` 重复执行最后一条以该字符串开头的命令
* 输出重定向
    * `命令 > 文件` 覆盖方式输出到文件 
    * `命令 >> 文件` 追加方式输出到文件
    * `错误命令 2>>文件` 追加方式输出错误信息
    * `命令 >> 文件 2>&1` 追加方式输出正确和错误的结果
    * `命令 &>>文件` 同上
    * `命令>>文件1 2>>文件2` 正确信息输出到文件1 错误信息输出到文件2
    * `命令 &>/dev/null` 忽略输出
* 多命令执行
    * `;` `命令1 ; 命令2`  多个命令顺序执行 之间没有逻辑关系
    * `&&` `命令1 && 命令2`  1正确执行 2才会执行  1执行不正确 2不执行
    * `||` `命令1 || 命令2`  1正确执行 2不会执行  1执行不正确 2执行
    * `命令 && echo yes || echo no` 执行正确输出 `yes` 错误输出 `no`
    * `命令1 | 命令2` 命令1错误 命令2不执行  命令1正确 输出作为命令2的操作对象
* 通配符
    * `?` 任意一个字符
    * `*` 任意多个字符
    * `[abc]` 任意一个 `[]` 中的字符 `a` 或 `b` 或 `c`
    * `[a-z]` 任意一个 `a-z` 的字符 `-` 表示范围
    * `[^0-9]` 任意一个非数字的字符
* `echo 选项 输出内容`
    * `-e` 支持反斜线控制的字符转换
    * `''` 里面的所有字符认为是字符串
    * `""` 里面的所有字符认为是字符串 除了 $ &#96; \
    * &#96;&#96; 里面的内容当做系统命令
    * `$()` 和 `` 一致
    * `#` 代表注释
    * `$` 调取变量的值
    * `\` 转义符

##### 其他常用命令

* 查找文件  
    * `find / -name filename.txt` 根据名称查找`/`目录下的`filename.txt`文件
    * `find . -name "*.xml"` 递归查找所有的`xml`文件
    * `find . -name "*.xml" | xargs grep "hello world"` 递归查找所有文件内容中包含`hello world`的`xml`文件
    * `find ./ -size 0 | xargs rm -f &` 删除文件大小为零的文件
    * `ls -l | grep 'jar'` 查找当前目录中的所有`jar`文件
    * `grep 'test' d*` 显示所有以`d`开头的文件中包含`test`的行。
    * `grep 'test' aa bb cc`显示在`aa`，`bb`，`cc`文件中匹配`test`的行。
    * `grep '[a-z]{5}' aa`显示所有包含每个字符串至少有`5`个连续小写字符的字符串的行
* 查看一个程序是否运行
    * `ps –ef | grep tomcat` 查看所有有关`tomcat`的进程
* 终止线程
    * `kill -9 19979` 终止线程号位`19979`的线程  
* 远程复制文件
    * `scp sourecFile romoteUserName@remoteIp:remoteAddr` 远程拷贝
* 切换用户
    * `su -username`
* 使用超级管理员身份执行命令
    * `sudo rm a.txt` 使用管理员身份删除文件
* 修改文件权限
    * `chmod 777 file.java`
* 查看文件头10行
    * `head -n 10 example.txt`
* 查看文件尾10行
    * `tail -n 10 example.txt`
* 查看日志类型文件
    * `tail -f exmaple.log` 这个命令会自动显示新增内容，屏幕只显示`10`行内容（可设置）
* 查看端口占用情况
    * `netstat -tln | grep 8080` 查看端口 `8080` 的使用情况
* 查看端口属于哪个程序
    * `lsof -i :8080`
* 查看进程
    * `ps aux | grep java` 查看 `java` 进程
    * `ps aux` 查看所有进程
* 查看内存
    * `cat /proc/meminfo` 查看机器的内存使用信息
    * `cat /proc/pid/statm` 查看进程所占用的内存
* 以树状图列出目录的内容
    * `tree a`
* 文件下载
    * `wget http://file.tgz`
    * `curl http://file.tgz`
* 网络检测
    * `ping www.taobao.com`
* 远程登录
    * `ssh userName@ip`
* 打印信息
    * `echo $JAVA_HOME` 打印 `java home` 环境变量的值
* 查看远程连接用户数
    * `netstat -an | grep "ESTABLISHED" | wc -l` 
